{
  "hash": "578ea4dd39253cdaf3d39609ba80c502",
  "result": {
    "markdown": "---\ntitle: \"Scatter plot with ggplot2\"\nauthor: \"Junho (Sean) Ahn\"\ndate: \"2023-08-26\"\ncategories: [ggplot, visualization]\nimage: \"image.png\"\n---\n\n\n## Initilizing\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngraphics.off()\nrm(list = ls())\ngc()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n          used (Mb) gc trigger (Mb) limit (Mb) max used (Mb)\nNcells  575872 30.8    1310645   70         NA   669405 35.8\nVcells 1050668  8.1    8388608   64      16384  1851688 14.2\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nversion\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n               _                           \nplatform       aarch64-apple-darwin20      \narch           aarch64                     \nos             darwin20                    \nsystem         aarch64, darwin20           \nstatus                                     \nmajor          4                           \nminor          3.1                         \nyear           2023                        \nmonth          06                          \nday            16                          \nsvn rev        84548                       \nlanguage       R                           \nversion.string R version 4.3.1 (2023-06-16)\nnickname       Beagle Scouts               \n```\n:::\n:::\n\n\n## Loading Useful Library\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n:::\n\n\n## Select Dataset\n\n**Old Faithful Geyser Data**\n\n### Description\n\nWaiting time between eruptions and the duration of the eruption for the Old Faithful geyser in Yellowstone National Park, Wyoming, USA.\n\n### Usage\n\nfaithful\n\n### Format\n\nA data frame with 272 observations on 2 variables.\n\n[,1]\teruptions\tnumeric\tEruption time in mins\n[,2]\twaiting\tnumeric\tWaiting time to next eruption (in mins)\n\n### Details\n\nA closer look at faithful$eruptions reveals that these are heavily rounded times originally in seconds, where multiples of 5 are more frequent than expected under non-human measurement. For a better version of the eruption times, see the example below.\n\nThere are many versions of this dataset around: Azzalini and Bowman (1990) use a more complete version.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfaithful |> head()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  eruptions waiting\n1     3.600      79\n2     1.800      54\n3     3.333      74\n4     2.283      62\n5     4.533      85\n6     2.883      55\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nclass(faithful)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"data.frame\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(faithful)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 272   2\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- faithful\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf |> \n  ggplot(aes(waiting, eruptions)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf |> \n  ggplot(aes(waiting, eruptions, color = waiting)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf |> \n  mutate(waitLv = cut_number(waiting, 4)) |> \n  ggplot(aes(waiting, eruptions, color = waitLv)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate slope and intercept of line of best fit\nlinear <- lm(eruptions ~ waiting, data = faithful)\nlinear\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = eruptions ~ waiting, data = faithful)\n\nCoefficients:\n(Intercept)      waiting  \n   -1.87402      0.07563  \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlinear$coefficients[1]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(Intercept) \n  -1.874016 \n```\n:::\n\n```{.r .cell-code}\ni <- linear$coefficients[1]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlinear$coefficients[2]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   waiting \n0.07562795 \n```\n:::\n\n```{.r .cell-code}\ns <- linear$coefficients[2]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf |> \n  mutate(waitLv = cut_number(waiting, 4)) |> \n  ggplot(aes(waiting, eruptions, color = waitLv)) +\n  geom_point() +\n  geom_abline(intercept = i, slope = s)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf |> \n  mutate(waitLv = cut_number(waiting, 4)) |> \n  ggplot(aes(waiting, eruptions)) + # Should remove \"aes(color = waitLv)\" in ggplot()\n  geom_point(aes(color = waitLv)) +\n  geom_smooth(method = lm ,se = FALSE, color = \"black\", linewidth = 0.5) # BUT!! to extract equation you should using \"lm()\"\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf |> \n  mutate(waitLv = cut_number(waiting, 4)) |> \n  ggplot(aes(waiting, eruptions, color = waitLv)) +\n  geom_point() +\n  geom_abline(intercept = i, slope = s, color = \"blue\", lty = 2) +\n  annotate(\"text\",x = 50, y = 4.5, label = paste0(\"y = \", round(s,5) ,\"x +\",round(i,5))) +\n  labs(title = \"Old Faithful geyser\",\n       subtitle = paste0(\"Waiting time between eruptions and the duration of the eruption for the Old Faithful geyser\",\"\\n\",\n                         \"in Yellowstone National Park, Wyoming, USA.\"),\n       x = \"Waiting time to next eruption (min)\", y = \"Eruption time (min)\", color = \"Lv. of Wating Time\") +\n  theme_bw() +\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}